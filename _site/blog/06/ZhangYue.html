<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Data Technologies for Statistics at Iowa State University.">
    <meta name="author" content="Heike Hofmann <hofmann@iastate.edu>">
    <!-- By The original uploader was Dick107 at English Wikipedia [GFDL (http://www.gnu.org/copyleft/fdl.html) or CC-BY-SA-3.0 (http://creativecommons.org/licenses/by-sa/3.0/)], via Wikimedia Commons https://commons.wikimedia.org/wiki/File%3APunch-card-5081.jpg-->

    <title>Stat 585</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/extra.css" rel="stylesheet">

  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../index.html">Stat 585</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              
              
      				  
      				  
      				  <li class="">
      					<a href="/index.html">Home</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/syllabus.html">Schedule</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/labs.html">Labs</a>
      				  </li>
      				
      				  
      				  
      				  <li class="active">
      					<a href="/blog">Blog</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/projects.html">Final Projects</a>
      				  </li>
      				
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://bb.its.iastate.edu" target="_blank">BlackBoard</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

    <div class="post">

  <header class="post-header">
    <h1 class="post-title">Functional Programming</h1>
    <p class="post-meta">Apr 17, 2017 • Yue Zhang</p>
  </header>

  <article class="post-content">
    <p>R is a functional programming (FP) language. We can do anything with functions that we can do with vectors: we can assign them to variables, store them in lists and pass them as arguments to other functions. Especially for the “lapply” function, before I only knew that I can pass a dataframe (a list essentially) to one function specified. However, Hadley’s tutorial reminds me that the reverse is also possible, I can pass a list of functions to my data. Sometimes this will greatly improve the readability and maintenance of the R code.</p>

<p>The following R code is used to calculate the statistics of a vector.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="w">
</span><span class="n">funs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w">
  </span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">,</span><span class="w">
  </span><span class="n">median</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="w">
</span><span class="p">)</span><span class="w">
</span><span class="n">lapply</span><span class="p">(</span><span class="n">funs</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Error in FUN(X[[i]], ...): could not find function "f"</code></pre></figure>

<p>Unlike we have many vectors in a dataframe as inputs for one function, here we have a vector as input for several functions. Following the “passing dataframe to one function” scheme, of course it can be programmed using three “lapply” statements. However, in this way, it doesn’t improve the coding compared to writing three individual  statements for sum, mean and median.</p>

<p>But, we can do it in the reverse way, by passing the three functions to the data vector. This will result in just one single “lapply” function and therefore greatly simplify the code. As a result, coding in this way will significantly reduce the chance to include bugs in the code. Moreover, on one hand, it’s convenient to set/change the options such as if missing values will be considered in the statistics. On the other hand, if we need to add or drop any function in the summary of statistics, we just need to modify the list of the functions, so it simplifies the maintenance of the code too.</p>


  </article>

</div>

      
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../scripts/jquery.min.js"></script>
    <script src="../../../scripts/bootstrap.min.js"></script>
  </body>
</html>
