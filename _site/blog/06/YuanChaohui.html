<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Data Technologies for Statistics at Iowa State University.">
    <meta name="author" content="Heike Hofmann <hofmann@iastate.edu>">
    <!-- By The original uploader was Dick107 at English Wikipedia [GFDL (http://www.gnu.org/copyleft/fdl.html) or CC-BY-SA-3.0 (http://creativecommons.org/licenses/by-sa/3.0/)], via Wikimedia Commons https://commons.wikimedia.org/wiki/File%3APunch-card-5081.jpg-->

    <title>Stat 585</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/extra.css" rel="stylesheet">

  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../index.html">Stat 585</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              
              
      				  
      				  
      				  <li class="">
      					<a href="/index.html">Home</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/syllabus.html">Schedule</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/labs.html">Labs</a>
      				  </li>
      				
      				  
      				  
      				  <li class="active">
      					<a href="/blog">Blog</a>
      				  </li>
      				
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://bb.its.iastate.edu" target="_blank">BlackBoard</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

    <div class="post">

  <header class="post-header">
    <h1 class="post-title">Functional Programming</h1>
    <p class="post-meta">Mar 2, 2017 • Chaohui Yuan</p>
  </header>

  <article class="post-content">
    <p>Put the related functions together in a list would make it analysis easier. First of all, no specific function name is needed if using <code class="highlighter-rouge">lapply</code> especially it is not necessary to define a function just use once. More specifically, use an anonymous function when it’s not worth the effort to give it a name.</p>

<p>Also suppose x is data frame or matrix rather than a vector in this example,
if we want to calculate the summary statistics, say sum, mean and median for each 
column (or row), it would be very painfull to write each summary statistics for each column (or row) seperately and repeat this process one by one (or even just simple copy-paste work). It also makes the R 
code looks like arguly, not neat at all. By <code class="highlighter-rouge">lapply</code>, putting related function together, and it will reduce such repeating work as much as possible.</p>

<p>What’s more, in the above example, it takes the identical argument in each function 
out and put it as the extra argument when we use lapply. Again, this also
reduces the duplicates typing and makes the code more readable and more tidy and clean.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">x</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="m">100</span><span class="w">
</span><span class="n">funs</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="w">
  </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">sum</span><span class="p">,</span><span class="w">
  </span><span class="n">mean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mean</span><span class="p">,</span><span class="w">
  </span><span class="n">median</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">median</span><span class="w">
</span><span class="p">)</span><span class="w">
</span><span class="n">system.time</span><span class="p">(</span><span class="n">lapply</span><span class="p">(</span><span class="n">funs</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">na.rm</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Error in FUN(X[[i]], ...): could not find function "f"</code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Timing stopped at: 0.009 0.007 0.024</code></pre></figure>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">lapply</span><span class="p">(</span><span class="n">funs</span><span class="p">,</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="n">system.time</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)))</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Error in system.time(f(x)): could not find function "f"</code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">## Timing stopped at: 0.001 0 0</code></pre></figure>


  </article>

</div>

      
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../scripts/jquery.min.js"></script>
    <script src="../../../scripts/bootstrap.min.js"></script>
  </body>
</html>
