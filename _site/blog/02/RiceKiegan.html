<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="description" content="Data Technologies for Statistics at Iowa State University.">
    <meta name="author" content="Heike Hofmann <hofmann@iastate.edu>">
    <!-- By The original uploader was Dick107 at English Wikipedia [GFDL (http://www.gnu.org/copyleft/fdl.html) or CC-BY-SA-3.0 (http://creativecommons.org/licenses/by-sa/3.0/)], via Wikimedia Commons https://commons.wikimedia.org/wiki/File%3APunch-card-5081.jpg-->

    <title>Stat 585</title>

    <!-- Bootstrap core CSS -->
    <link href="../../../css/bootstrap.min.css" rel="stylesheet">
    <link href="../../../css/extra.css" rel="stylesheet">

  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="../../../index.html">Stat 585</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              
              
      				  
      				  
      				  <li class="">
      					<a href="/index.html">Home</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/syllabus.html">Schedule</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/labs.html">Labs</a>
      				  </li>
      				
      				  
      				  
      				  <li class="active">
      					<a href="/blog">Blog</a>
      				  </li>
      				
      				  
      				  
      				  <li class="">
      					<a href="/projects.html">Final Projects</a>
      				  </li>
      				
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://bb.its.iastate.edu" target="_blank">BlackBoard</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

    <div class="post">

  <header class="post-header">
    <h1 class="post-title">Split-Apply-Combine and airquality data</h1>
    <p class="post-meta">Apr 20, 2017 • Kiegan Rice</p>
  </header>

  <article class="post-content">
    <h2 id="which-base-r-functions-do-you-know-that-support-the-split-apply-combine-strategy-in-your-opinion-are-these-sufficient---state-why-or-why-not">Which (base R) functions do you know that support the split-apply-combine strategy? In your opinion, are these sufficient - state why or why not?</h2>

<p>Some base R functions I know that support the split-apply-combine strategy would be things like <strong>for loops</strong>, <strong>apply</strong>, <strong>lapply</strong>, <strong>sapply</strong>, <strong>mapply</strong> etc. Some of these were mentioned in the article. There are also things like <strong>split</strong>, <strong>subset</strong>, <strong>merge</strong>, and <strong>rbind,cbind</strong>. I don’t believe that these functions are sufficient. While they allow us to do perform all the functions we need to to analyze data piece by piece, they aren’t ideal in terms of computing time - for example, <strong>for</strong> loops are much less efficient than even <strong>apply</strong>, as touched on in the article. I think that having a well streamlined and efficient set of functions in place - such as the <strong>dplyr</strong> package that came after <strong>plyr</strong> - is a much better option than using the functions I have listed above. It is also important to keep in mind that it is really easy for the split and apply part to get really messy with those base R functions. Code is hard to read and specific to a certain scenario, which doesn’t make it easier to go back and change things if needed. Things like <strong>merge</strong> are also tricky because they require careful detailing of exactly what needs to be put together and that is easy to slightly mess up. When you are working with a lot of data, if you have to be super specific about how the merge function needs to work, it is less simple to make changes later on. I have had this happen many times - either due to my own messy coding, or just the way the function is written.</p>

<h2 id="using-a-dataset-of-your-choice-describe-how-you-can-use-the-split-apply-combine-strategy-for-a-part-of-the-data-analysis">Using a dataset of your choice, describe how you can use the split-apply-combine strategy for a part of the data analysis.</h2>
<p>Using the <code class="highlighter-rouge">airquality</code> dataset from the <code class="highlighter-rouge">datasets</code> package, we can use the split-apply-combine strategy to look at monthly averages rather than daily values.</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">library</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">)</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="n">airquality</span><span class="p">)</span><span class="w">

</span><span class="n">airquality</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">head</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">##   Ozone Solar.R Wind Temp Month Day
## 1    41     190  7.4   67     5   1
## 2    36     118  8.0   72     5   2
## 3    12     149 12.6   74     5   3
## 4    18     313 11.5   62     5   4
## 5    NA      NA 14.3   56     5   5
## 6    28      NA 14.9   66     5   6</code></pre></figure>

<p>Seeing the variables we have, we could split up the data by Month, calculate the mean (apply), and then add a variable that is the monthly mean for each observation back in to the dataset (combine). This would allow us to look at monthly averages instead of seeing the noise of daily variation. However, in this case, we might actually want to be able to see the bigger picture of what the pattern looks like when we consider every day. This is just one example of something we could do.</p>

  </article>

</div>

      
    </div> <!-- /container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../scripts/jquery.min.js"></script>
    <script src="../../../scripts/bootstrap.min.js"></script>
  </body>
</html>
